{"ast":null,"code":"import { Action } from './LineActions';\nconst initialState = {\n  lineCount: 0,\n  noteLines: [],\n  currentLine: {\n    lineContents: \"temp\"\n  }\n};\n\nfunction noteLinesReducer(noteLinesArray, action) {\n  switch (action.type) {\n    case Action.BeginEdit:\n      return noteLinesArray.map(line => {\n        alert(\"Pay: \" + action.payload);\n        console.log(JSON.stringify(noteLinesArray));\n\n        if (line.lineNumber === action.payload) {\n          return { ...line,\n            isEditing: true\n          };\n        } else {\n          return line;\n        }\n      });\n\n    case Action.EndEdit:\n      return noteLinesArray.map(line => {\n        if (line.lineNumber === action.payload.lineNumber) {\n          return action.payload;\n        } else {\n          return line;\n        }\n      });\n\n    case Action.LoadLine:\n      return [action.payload, ...noteLinesArray];\n\n    case Action.AddNewLine:\n      //console.log(\"Old: \"+ JSON.stringify(noteLinesArray))\n      const oldList = noteLinesArray.map(line => {\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n        if (line.lineNumber <= action.payload) {\n          return {\n            lineContents: line.lineContents + \"\",\n            lineNumber: line.lineNumber,\n            marked: \"under\"\n          };\n        } else {\n          return {\n            lineContents: line.lineContents + \"\",\n            lineNumber: line.lineNumber + 1,\n            marked: \"Over\"\n          };\n        }\n      });\n      const temp = {\n        lineNumber: action.payload + 1,\n        lineContents: \"\",\n        isEditing: true,\n        marked: \"new\"\n      }; //console.log(\"New: \"+ JSON.stringify([...oldList, temp].sort((a,b) => {return a.lineNumber - b.lineNumber})))\n\n      return [...oldList, temp].sort((a, b) => {\n        return a.lineNumber - b.lineNumber;\n      });\n\n    case Action.RemoveLine:\n      console.log(\"Old: \" + JSON.stringify(noteLinesArray));\n      const newList = noteLinesArray.filter(line => line.lineNumber != action.payload.lineNumber).map(line => {\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n        if (line.lineNumber <= action.payload.lineNumber) {\n          return {\n            lineContents: line.lineContents + \"\",\n            lineNumber: line.lineNumber,\n            marked: \"under\"\n          };\n        } else {\n          return {\n            lineContents: line.lineContents + \"\",\n            lineNumber: line.lineNumber - 1,\n            marked: \"Over\"\n          };\n        }\n      }); //console.log(\"New: \"+ JSON.stringify([...oldList, temp].sort((a,b) => {return a.lineNumber - b.lineNumber})))\n\n      return newList.sort((a, b) => {\n        return a.lineNumber - b.lineNumber;\n      });\n\n    default:\n      return noteLinesArray;\n  }\n}\n\nfunction lineCountReducer(lineCountVar, action) {\n  switch (action.type) {\n    case Action.LoadLine:\n      return lineCountVar + 1;\n\n    case Action.AddNewLine:\n      return lineCountVar + 1;\n\n    case Action.RemoveLine:\n      return lineCountVar - 1;\n\n    default:\n      return lineCountVar;\n  }\n}\n\nfunction reducer(state = initialState, action) {\n  return {\n    lineCount: lineCountReducer(state.lineCount, action),\n    noteLines: noteLinesReducer(state.noteLines, action)\n  };\n}\n\nexport default reducer;","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/LineReducer.js"],"names":["Action","initialState","lineCount","noteLines","currentLine","lineContents","noteLinesReducer","noteLinesArray","action","type","BeginEdit","map","line","alert","payload","console","log","JSON","stringify","lineNumber","isEditing","EndEdit","LoadLine","AddNewLine","oldList","marked","temp","sort","a","b","RemoveLine","newList","filter","lineCountReducer","lineCountVar","reducer","state"],"mappings":"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","sourcesContent":["import {Action} from './LineActions';\nconst initialState = {\n  lineCount: 0,\n  noteLines: [],\n  currentLine: {lineContents:\"temp\"},\n}\n\nfunction noteLinesReducer(noteLinesArray, action){\n  switch (action.type) {\n\n\n    case Action.BeginEdit:\n      return noteLinesArray.map(line =>{\n        alert(\"Pay: \" + action.payload)\n        console.log(JSON.stringify(noteLinesArray))\n        if(line.lineNumber === action.payload){\n\n          return{...line, isEditing:true};\n        }\n        else{\n          return line;\n        }\n      });\n\n\n    case Action.EndEdit:\n      return noteLinesArray.map(line =>{\n           if(line.lineNumber === action.payload.lineNumber){\n             return action.payload;\n           }\n           else{\n             return line;\n           }\n         });\n\n\n\n    case Action.LoadLine:\n      return [action.payload, ...noteLinesArray]\n\n\n    case Action.AddNewLine:\n      //console.log(\"Old: \"+ JSON.stringify(noteLinesArray))\n      const oldList = noteLinesArray.map(line =>{\n\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n\n        if(line.lineNumber <= action.payload){\n\n          return {lineContents:line.lineContents+\"\", lineNumber:line.lineNumber, marked:\"under\"}\n\n        }\n        else{\n\n          return{lineContents:line.lineContents+\"\", lineNumber:line.lineNumber+1, marked:\"Over\"}\n\n        }\n      })\n      const temp = {lineNumber:action.payload+1, lineContents:\"\", isEditing:true, marked:\"new\"}\n      //console.log(\"New: \"+ JSON.stringify([...oldList, temp].sort((a,b) => {return a.lineNumber - b.lineNumber})))\n      return [...oldList, temp].sort((a,b) => {return a.lineNumber - b.lineNumber});\n\n\n    case Action.RemoveLine:\n      console.log(\"Old: \"+ JSON.stringify(noteLinesArray))\n      const newList = noteLinesArray.filter(line => line.lineNumber != action.payload.lineNumber).map(line =>{\n\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n\n        if(line.lineNumber <= action.payload.lineNumber){\n\n          return {lineContents:line.lineContents+\"\", lineNumber:line.lineNumber, marked:\"under\"}\n\n        }\n        else{\n\n          return{lineContents:line.lineContents+\"\", lineNumber:line.lineNumber-1, marked:\"Over\"}\n\n        }\n      })\n      //console.log(\"New: \"+ JSON.stringify([...oldList, temp].sort((a,b) => {return a.lineNumber - b.lineNumber})))\n      return newList.sort((a,b) => {return a.lineNumber - b.lineNumber});\n\n    default:\n      return noteLinesArray;\n\n  }\n}\n\nfunction lineCountReducer(lineCountVar, action){\n  switch (action.type) {\n\n\n    case Action.LoadLine:\n      return (lineCountVar+1);\n\n\n    case Action.AddNewLine:\n      return (lineCountVar+1);\n\n\n    case Action.RemoveLine:\n      return (lineCountVar-1)\n\n\n    default:\n      return lineCountVar;\n  }\n}\n\nfunction reducer(state = initialState, action){\n    return{\n      lineCount: lineCountReducer(state.lineCount, action),\n      noteLines: noteLinesReducer(state.noteLines, action)\n    };\n}\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}