{"ast":null,"code":"export var UserAction=Object.freeze({BeginLogin:'BeginLogin',FinishLogin:'FinishLogin',Logout:'Logout',BeginNewUser:'BeginNewUser',BeginLoadSheet:'BeginLoadSheet',FinishLoadSheet:'FinishLoadSheet',FinishNewNoteSheet:'FinishNewNoteSheet',FinishDelete:'FinishDelete'});var host='http://websystems.senapatiratne.com:1443';export function checkForErrors(responce){if(!responce.ok){throw Error(\"\".concat(responce.status,\":\").concat(responce.statusText));}return responce;}export function beginNewNoteSheet(newNoteSheetName,userName){return function(dispatch){var newBody={userName:userName,sheetName:newNoteSheetName};var options={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};fetch(\"\".concat(host,\"/noteSheetList\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishNewNoteSheet(newNoteSheetName));}}).catch(function(e){return console.error(e);});};}export function finishNewNoteSheet(newNoteSheetName){return{type:UserAction.FinishNewNoteSheet,payload:{noteSheetName:newNoteSheetName}};}export function beginDelete(userName,currentNoteSheet_id){return function(dispatch){var newBody={userName:userName,noteSheet_id:currentNoteSheet_id};var options={method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};fetch(\"\".concat(host,\"/noteSheet\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishDelete(currentNoteSheet_id));}}).catch(function(e){return console.error(e);});};}export function finishDelete(currentNoteSheet_id){return{type:UserAction.FinishDelete,payload:currentNoteSheet_id};}export function beginLogin(userName){return function(dispatch){fetch(\"\".concat(host,\"/noteSheetList/\").concat(userName)).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishLogin(data.usersNoteSheets,userName));}else{alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");}}).catch(function(e){return console.error(e);});};}export function finishLogin(usersNoteSheets,userName){return{type:UserAction.FinishLogin,payload:{noteSheetList:usersNoteSheets,userName:userName}};}export function beginNewUser(userName){var newBody={userName:userName};var options={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};return function(dispatch){fetch(\"\".concat(host,\"/users\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(beginLogin(userName));}}).catch(function(e){return console.error(e);});};}export function beginLoadSheet(userName,noteSheet){return function(dispatch){fetch(\"\".concat(host,\"/noteSheetFind/\").concat(userName,\"/\").concat(noteSheet.noteSheetName)).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishLoadSheet(data.requestedNoteSheet[0]));}}).catch(function(e){return console.error(e);});};}export function finishLoadSheet(noteSheet){return{type:UserAction.FinishLoadSheet,payload:noteSheet};}export function logout(){return{type:UserAction.Logout,payload:null};}","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/UserActions.js"],"names":["UserAction","Object","freeze","BeginLogin","FinishLogin","Logout","BeginNewUser","BeginLoadSheet","FinishLoadSheet","FinishNewNoteSheet","FinishDelete","host","checkForErrors","responce","ok","Error","status","statusText","beginNewNoteSheet","newNoteSheetName","userName","dispatch","newBody","sheetName","options","method","headers","body","JSON","stringify","fetch","then","json","data","finishNewNoteSheet","catch","e","console","error","type","payload","noteSheetName","beginDelete","currentNoteSheet_id","noteSheet_id","finishDelete","beginLogin","finishLogin","usersNoteSheets","alert","noteSheetList","beginNewUser","beginLoadSheet","noteSheet","finishLoadSheet","requestedNoteSheet","logout"],"mappings":"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","sourcesContent":["export const UserAction = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  Logout: 'Logout',\n  BeginNewUser: 'BeginNewUser',\n  BeginLoadSheet:'BeginLoadSheet',\n  FinishLoadSheet:'FinishLoadSheet',\n  FinishNewNoteSheet:'FinishNewNoteSheet',\n  FinishDelete:'FinishDelete',\n})\n\nconst host = 'http://websystems.senapatiratne.com:1443';\n\nexport function checkForErrors(responce){\n  if(!responce.ok){\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n  return responce;\n}\n\nexport function beginNewNoteSheet(newNoteSheetName,userName){\n  return dispatch => {\n    const newBody = {userName:userName,sheetName:newNoteSheetName};\n    const options = {method: 'POST', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n    fetch(`${host}/noteSheetList`,options)\n      .then(checkForErrors)\n      .then(responce => responce.json())\n      .then(data => {\n        if(data.ok){\n          dispatch(finishNewNoteSheet(newNoteSheetName));\n        }\n\n      })\n      .catch(e => console.error(e));\n  }\n}\n\nexport function finishNewNoteSheet(newNoteSheetName){\n  return{\n    type:UserAction.FinishNewNoteSheet,\n    payload:{noteSheetName:newNoteSheetName}\n  }\n}\n\n\nexport function beginDelete(userName,currentNoteSheet_id){\n  return dispatch => {\n      const newBody = {userName:userName,noteSheet_id:currentNoteSheet_id};\n      const options = {method: 'DELETE', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n      fetch(`${host}/noteSheet`,options)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishDelete(currentNoteSheet_id));\n          }\n\n        })\n        .catch(e => console.error(e));\n  };\n}\n\nexport function finishDelete(currentNoteSheet_id){\n  return{\n    type: UserAction.FinishDelete,\n    payload: currentNoteSheet_id\n  }\n}\n\nexport function beginLogin(userName){\n  return dispatch => {\n      fetch(`${host}/noteSheetList/${userName}`)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishLogin(data.usersNoteSheets,userName));\n          }\n          else{\n            alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n          }\n        })\n        .catch(e => console.error(e));\n  };\n}\n\n\nexport function finishLogin(usersNoteSheets, userName){\n  return{\n    type: UserAction.FinishLogin,\n    payload: {noteSheetList:usersNoteSheets, userName:userName}\n  };\n}\n\n\nexport function beginNewUser(userName){\n  const newBody = {userName:userName};\n  const options = {method: 'POST', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n  return dispatch => {\n    fetch(`${host}/users`,options)\n      .then(checkForErrors)\n      .then(responce => responce.json())\n      .then(data => {\n        if(data.ok){\n          dispatch(beginLogin(userName));\n        }\n      })\n      .catch(e => console.error(e));\n  };\n}\n\nexport function beginLoadSheet(userName, noteSheet){\n  return dispatch => {\n      fetch(`${host}/noteSheetFind/${userName}/${noteSheet.noteSheetName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n          if(data.ok){\n            dispatch(finishLoadSheet(data.requestedNoteSheet[0]))\n          }\n        }).catch(e => console.error(e));\n  }\n}\n\nexport function finishLoadSheet(noteSheet){\n  return{\n    type:UserAction.FinishLoadSheet,\n    payload:noteSheet\n  }\n}\n\nexport function logout(){\n  return{\n    type:UserAction.Logout,\n    payload:null\n  }\n}\n"]},"metadata":{},"sourceType":"module"}