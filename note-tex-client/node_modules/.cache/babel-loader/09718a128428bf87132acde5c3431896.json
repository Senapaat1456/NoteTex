{"ast":null,"code":"export var UserAction=Object.freeze({BeginLogin:'BeginLogin',FinishLogin:'FinishLogin',Logout:'Logout',BeginNewUser:'BeginNewUser',BeginLoadSheet:'BeginLoadSheet',FinishLoadSheet:'FinishLoadSheet',FinishNewNoteSheet:'FinishNewNoteSheet',FinishDelete:'FinishDelete',StartWaiting:'StartWaiting',StopWaiting:'StopWaiting'});var host='https://websystems.senapatiratne.com:5443';export function startWaiting(){return{type:UserAction.StartWaiting};}export function stopWaiting(){return{type:UserAction.StopWaiting};}export function checkForErrors(responce){if(!responce.ok){throw Error(\"\".concat(responce.status,\":\").concat(responce.statusText));}return responce;}export function beginNewNoteSheet(newNoteSheetName,userName){return function(dispatch){dispatch(startWaiting());var newBody={userName:userName,sheetName:newNoteSheetName};var options={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};fetch(\"\".concat(host,\"/noteSheetList\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishNewNoteSheet(newNoteSheetName));dispatch(stopWaiting());}}).catch(function(e){return console.error(e);});};}export function finishNewNoteSheet(newNoteSheetName){return{type:UserAction.FinishNewNoteSheet,payload:{noteSheetName:newNoteSheetName}};}export function beginDelete(userName,currentNoteSheet_id){return function(dispatch){dispatch(startWaiting());var newBody={userName:userName,noteSheet_id:currentNoteSheet_id};var options={method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};fetch(\"\".concat(host,\"/noteSheet\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishDelete(currentNoteSheet_id));dispatch(stopWaiting());}}).catch(function(e){return console.error(e);});};}export function finishDelete(currentNoteSheet_id){return{type:UserAction.FinishDelete,payload:currentNoteSheet_id};}export function beginLogin(userName){return function(dispatch){dispatch(startWaiting());fetch(\"\".concat(host,\"/noteSheetList/\").concat(userName)).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishLogin(data.usersNoteSheets,userName));}else{alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");}dispatch(stopWaiting());}).catch(function(e){return console.error(e);});};}export function finishLogin(usersNoteSheets,userName){return{type:UserAction.FinishLogin,payload:{noteSheetList:usersNoteSheets,userName:userName}};}export function beginNewUser(userName){var newBody={userName:userName};var options={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newBody)};return function(dispatch){dispatch(startWaiting());fetch(\"\".concat(host,\"/users\"),options).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(beginLogin(userName));dispatch(stopWaiting());}}).catch(function(e){return console.error(e);});};}export function beginLoadSheet(userName,noteSheet){return function(dispatch){dispatch(startWaiting());fetch(\"\".concat(host,\"/noteSheetFind/\").concat(userName,\"/\").concat(noteSheet.noteSheetName)).then(checkForErrors).then(function(responce){return responce.json();}).then(function(data){if(data.ok){dispatch(finishLoadSheet(data.requestedNoteSheet[0]));dispatch(stopWaiting());}}).catch(function(e){return console.error(e);});};}export function finishLoadSheet(noteSheet){return{type:UserAction.FinishLoadSheet,payload:noteSheet};}export function logout(){return{type:UserAction.Logout,payload:null};}","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/UserActions.js"],"names":["UserAction","Object","freeze","BeginLogin","FinishLogin","Logout","BeginNewUser","BeginLoadSheet","FinishLoadSheet","FinishNewNoteSheet","FinishDelete","StartWaiting","StopWaiting","host","startWaiting","type","stopWaiting","checkForErrors","responce","ok","Error","status","statusText","beginNewNoteSheet","newNoteSheetName","userName","dispatch","newBody","sheetName","options","method","headers","body","JSON","stringify","fetch","then","json","data","finishNewNoteSheet","catch","e","console","error","payload","noteSheetName","beginDelete","currentNoteSheet_id","noteSheet_id","finishDelete","beginLogin","finishLogin","usersNoteSheets","alert","noteSheetList","beginNewUser","beginLoadSheet","noteSheet","finishLoadSheet","requestedNoteSheet","logout"],"mappings":"AAAA,MAAO,IAAMA,CAAAA,UAAU,CAAGC,MAAM,CAACC,MAAP,CAAc,CACtCC,UAAU,CAAE,YAD0B,CAEtCC,WAAW,CAAE,aAFyB,CAGtCC,MAAM,CAAE,QAH8B,CAItCC,YAAY,CAAE,cAJwB,CAKtCC,cAAc,CAAC,gBALuB,CAMtCC,eAAe,CAAC,iBANsB,CAOtCC,kBAAkB,CAAC,oBAPmB,CAQtCC,YAAY,CAAC,cARyB,CAStCC,YAAY,CAAC,cATyB,CAUtCC,WAAW,CAAC,aAV0B,CAAd,CAAnB,CAaP,GAAMC,CAAAA,IAAI,CAAG,2CAAb,CAGA,MAAO,SAASC,CAAAA,YAAT,EAAuB,CAC5B,MAAO,CACLC,IAAI,CAACf,UAAU,CAACW,YADX,CAAP,CAGD,CACD,MAAO,SAASK,CAAAA,WAAT,EAAsB,CAC3B,MAAM,CACJD,IAAI,CAACf,UAAU,CAACY,WADZ,CAAN,CAGD,CAED,MAAO,SAASK,CAAAA,cAAT,CAAwBC,QAAxB,CAAiC,CACtC,GAAG,CAACA,QAAQ,CAACC,EAAb,CAAgB,CACd,KAAMC,CAAAA,KAAK,WAAIF,QAAQ,CAACG,MAAb,aAAuBH,QAAQ,CAACI,UAAhC,EAAX,CACD,CACD,MAAOJ,CAAAA,QAAP,CACD,CAED,MAAO,SAASK,CAAAA,iBAAT,CAA2BC,gBAA3B,CAA4CC,QAA5C,CAAqD,CAC1D,MAAO,UAAAC,QAAQ,CAAI,CACjBA,QAAQ,CAACZ,YAAY,EAAb,CAAR,CACA,GAAMa,CAAAA,OAAO,CAAG,CAACF,QAAQ,CAACA,QAAV,CAAmBG,SAAS,CAACJ,gBAA7B,CAAhB,CACA,GAAMK,CAAAA,OAAO,CAAG,CAACC,MAAM,CAAE,MAAT,CAAiBC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAAzB,CAA+DC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAApE,CAAhB,CACAQ,KAAK,WAAItB,IAAJ,mBAAyBgB,OAAzB,CAAL,CACGO,IADH,CACQnB,cADR,EAEGmB,IAFH,CAEQ,SAAAlB,QAAQ,QAAIA,CAAAA,QAAQ,CAACmB,IAAT,EAAJ,EAFhB,EAGGD,IAHH,CAGQ,SAAAE,IAAI,CAAI,CACZ,GAAGA,IAAI,CAACnB,EAAR,CAAW,CACTO,QAAQ,CAACa,kBAAkB,CAACf,gBAAD,CAAnB,CAAR,CACAE,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACD,CAEF,CATH,EAUGwB,KAVH,CAUS,SAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ,EAVV,EAWD,CAfD,CAgBD,CAED,MAAO,SAASF,CAAAA,kBAAT,CAA4Bf,gBAA5B,CAA6C,CAClD,MAAM,CACJT,IAAI,CAACf,UAAU,CAACS,kBADZ,CAEJmC,OAAO,CAAC,CAACC,aAAa,CAACrB,gBAAf,CAFJ,CAAN,CAID,CAGD,MAAO,SAASsB,CAAAA,WAAT,CAAqBrB,QAArB,CAA8BsB,mBAA9B,CAAkD,CACvD,MAAO,UAAArB,QAAQ,CAAI,CACfA,QAAQ,CAACZ,YAAY,EAAb,CAAR,CACA,GAAMa,CAAAA,OAAO,CAAG,CAACF,QAAQ,CAACA,QAAV,CAAmBuB,YAAY,CAACD,mBAAhC,CAAhB,CACA,GAAMlB,CAAAA,OAAO,CAAG,CAACC,MAAM,CAAE,QAAT,CAAmBC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAA3B,CAAiEC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAAtE,CAAhB,CACAQ,KAAK,WAAItB,IAAJ,eAAqBgB,OAArB,CAAL,CACGO,IADH,CACQnB,cADR,EAEGmB,IAFH,CAEQ,SAAAlB,QAAQ,QAAIA,CAAAA,QAAQ,CAACmB,IAAT,EAAJ,EAFhB,EAGGD,IAHH,CAGQ,SAAAE,IAAI,CAAI,CACZ,GAAGA,IAAI,CAACnB,EAAR,CAAW,CACTO,QAAQ,CAACuB,YAAY,CAACF,mBAAD,CAAb,CAAR,CACArB,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACD,CAEF,CATH,EAUGwB,KAVH,CAUS,SAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ,EAVV,EAWH,CAfD,CAgBD,CAED,MAAO,SAASQ,CAAAA,YAAT,CAAsBF,mBAAtB,CAA0C,CAC/C,MAAM,CACJhC,IAAI,CAAEf,UAAU,CAACU,YADb,CAEJkC,OAAO,CAAEG,mBAFL,CAAN,CAID,CAED,MAAO,SAASG,CAAAA,UAAT,CAAoBzB,QAApB,CAA6B,CAClC,MAAO,UAAAC,QAAQ,CAAI,CACfA,QAAQ,CAACZ,YAAY,EAAb,CAAR,CACAqB,KAAK,WAAItB,IAAJ,2BAA0BY,QAA1B,EAAL,CACGW,IADH,CACQnB,cADR,EAEGmB,IAFH,CAEQ,SAAAlB,QAAQ,QAAIA,CAAAA,QAAQ,CAACmB,IAAT,EAAJ,EAFhB,EAGGD,IAHH,CAGQ,SAAAE,IAAI,CAAI,CACZ,GAAGA,IAAI,CAACnB,EAAR,CAAW,CACTO,QAAQ,CAACyB,WAAW,CAACb,IAAI,CAACc,eAAN,CAAsB3B,QAAtB,CAAZ,CAAR,CAED,CAHD,IAII,CACF4B,KAAK,CAAC,kFAAD,CAAL,CACD,CACD3B,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACD,CAZH,EAaGwB,KAbH,CAaS,SAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ,EAbV,EAcH,CAhBD,CAiBD,CAGD,MAAO,SAASU,CAAAA,WAAT,CAAqBC,eAArB,CAAsC3B,QAAtC,CAA+C,CACpD,MAAM,CACJV,IAAI,CAAEf,UAAU,CAACI,WADb,CAEJwC,OAAO,CAAE,CAACU,aAAa,CAACF,eAAf,CAAgC3B,QAAQ,CAACA,QAAzC,CAFL,CAAN,CAID,CAGD,MAAO,SAAS8B,CAAAA,YAAT,CAAsB9B,QAAtB,CAA+B,CAEpC,GAAME,CAAAA,OAAO,CAAG,CAACF,QAAQ,CAACA,QAAV,CAAhB,CACA,GAAMI,CAAAA,OAAO,CAAG,CAACC,MAAM,CAAE,MAAT,CAAiBC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAAzB,CAA+DC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAApE,CAAhB,CACA,MAAO,UAAAD,QAAQ,CAAI,CACjBA,QAAQ,CAACZ,YAAY,EAAb,CAAR,CACAqB,KAAK,WAAItB,IAAJ,WAAiBgB,OAAjB,CAAL,CACGO,IADH,CACQnB,cADR,EAEGmB,IAFH,CAEQ,SAAAlB,QAAQ,QAAIA,CAAAA,QAAQ,CAACmB,IAAT,EAAJ,EAFhB,EAGGD,IAHH,CAGQ,SAAAE,IAAI,CAAI,CACZ,GAAGA,IAAI,CAACnB,EAAR,CAAW,CACTO,QAAQ,CAACwB,UAAU,CAACzB,QAAD,CAAX,CAAR,CACAC,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACD,CACF,CARH,EASGwB,KATH,CASS,SAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ,EATV,EAUD,CAZD,CAaD,CAED,MAAO,SAASe,CAAAA,cAAT,CAAwB/B,QAAxB,CAAkCgC,SAAlC,CAA4C,CACjD,MAAO,UAAA/B,QAAQ,CAAI,CACfA,QAAQ,CAACZ,YAAY,EAAb,CAAR,CACAqB,KAAK,WAAItB,IAAJ,2BAA0BY,QAA1B,aAAsCgC,SAAS,CAACZ,aAAhD,EAAL,CAAsET,IAAtE,CAA2EnB,cAA3E,EAA2FmB,IAA3F,CAAgG,SAAAlB,QAAQ,QAAIA,CAAAA,QAAQ,CAACmB,IAAT,EAAJ,EAAxG,EAA6HD,IAA7H,CAAkI,SAAAE,IAAI,CAAI,CACtI,GAAGA,IAAI,CAACnB,EAAR,CAAW,CACTO,QAAQ,CAACgC,eAAe,CAACpB,IAAI,CAACqB,kBAAL,CAAwB,CAAxB,CAAD,CAAhB,CAAR,CACAjC,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACD,CACF,CALH,EAKKwB,KALL,CAKW,SAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ,EALZ,EAMH,CARD,CASD,CAED,MAAO,SAASiB,CAAAA,eAAT,CAAyBD,SAAzB,CAAmC,CACxC,MAAM,CACJ1C,IAAI,CAACf,UAAU,CAACQ,eADZ,CAEJoC,OAAO,CAACa,SAFJ,CAAN,CAID,CAED,MAAO,SAASG,CAAAA,MAAT,EAAiB,CACtB,MAAM,CACJ7C,IAAI,CAACf,UAAU,CAACK,MADZ,CAEJuC,OAAO,CAAC,IAFJ,CAAN,CAID","sourcesContent":["export const UserAction = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  Logout: 'Logout',\n  BeginNewUser: 'BeginNewUser',\n  BeginLoadSheet:'BeginLoadSheet',\n  FinishLoadSheet:'FinishLoadSheet',\n  FinishNewNoteSheet:'FinishNewNoteSheet',\n  FinishDelete:'FinishDelete',\n  StartWaiting:'StartWaiting',\n  StopWaiting:'StopWaiting',\n})\n\nconst host = 'https://websystems.senapatiratne.com:5443';\n\n\nexport function startWaiting(){\n  return {\n    type:UserAction.StartWaiting\n  }\n}\nexport function stopWaiting(){\n  return{\n    type:UserAction.StopWaiting\n  }\n}\n\nexport function checkForErrors(responce){\n  if(!responce.ok){\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n  return responce;\n}\n\nexport function beginNewNoteSheet(newNoteSheetName,userName){\n  return dispatch => {\n    dispatch(startWaiting());\n    const newBody = {userName:userName,sheetName:newNoteSheetName};\n    const options = {method: 'POST', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n    fetch(`${host}/noteSheetList`,options)\n      .then(checkForErrors)\n      .then(responce => responce.json())\n      .then(data => {\n        if(data.ok){\n          dispatch(finishNewNoteSheet(newNoteSheetName));\n          dispatch(stopWaiting());\n        }\n\n      })\n      .catch(e => console.error(e));\n  }\n}\n\nexport function finishNewNoteSheet(newNoteSheetName){\n  return{\n    type:UserAction.FinishNewNoteSheet,\n    payload:{noteSheetName:newNoteSheetName}\n  }\n}\n\n\nexport function beginDelete(userName,currentNoteSheet_id){\n  return dispatch => {\n      dispatch(startWaiting());\n      const newBody = {userName:userName,noteSheet_id:currentNoteSheet_id};\n      const options = {method: 'DELETE', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n      fetch(`${host}/noteSheet`,options)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishDelete(currentNoteSheet_id));\n            dispatch(stopWaiting());\n          }\n\n        })\n        .catch(e => console.error(e));\n  };\n}\n\nexport function finishDelete(currentNoteSheet_id){\n  return{\n    type: UserAction.FinishDelete,\n    payload: currentNoteSheet_id\n  }\n}\n\nexport function beginLogin(userName){\n  return dispatch => {\n      dispatch(startWaiting());\n      fetch(`${host}/noteSheetList/${userName}`)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishLogin(data.usersNoteSheets,userName));\n\n          }\n          else{\n            alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n          }\n          dispatch(stopWaiting());\n        })\n        .catch(e => console.error(e));\n  };\n}\n\n\nexport function finishLogin(usersNoteSheets, userName){\n  return{\n    type: UserAction.FinishLogin,\n    payload: {noteSheetList:usersNoteSheets, userName:userName}\n  };\n}\n\n\nexport function beginNewUser(userName){\n\n  const newBody = {userName:userName};\n  const options = {method: 'POST', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n  return dispatch => {\n    dispatch(startWaiting());\n    fetch(`${host}/users`,options)\n      .then(checkForErrors)\n      .then(responce => responce.json())\n      .then(data => {\n        if(data.ok){\n          dispatch(beginLogin(userName));\n          dispatch(stopWaiting());\n        }\n      })\n      .catch(e => console.error(e));\n  };\n}\n\nexport function beginLoadSheet(userName, noteSheet){\n  return dispatch => {\n      dispatch(startWaiting());\n      fetch(`${host}/noteSheetFind/${userName}/${noteSheet.noteSheetName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n          if(data.ok){\n            dispatch(finishLoadSheet(data.requestedNoteSheet[0]))\n            dispatch(stopWaiting());\n          }\n        }).catch(e => console.error(e));\n  }\n}\n\nexport function finishLoadSheet(noteSheet){\n  return{\n    type:UserAction.FinishLoadSheet,\n    payload:noteSheet\n  }\n}\n\nexport function logout(){\n  return{\n    type:UserAction.Logout,\n    payload:null\n  }\n}\n"]},"metadata":{},"sourceType":"module"}