{"ast":null,"code":"import React, { useState } from 'react';\nexport const UserAction = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  Logout: 'Logout',\n  BeginNewUser: 'BeginNewUser',\n  BeginLoadSheet: 'BeginLoadSheet',\n  FinishLoadSheet: 'FinishLoadSheet',\n  BeginNewNoteSheet: 'BeginNewNoteSheet',\n  FinshDelete: 'FinishDelete'\n});\nconst host = 'http://websystems.senapatiratne.com:1443';\nexport function checkForErrors(responce) {\n  if (!responce.ok) {\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n\n  return responce;\n}\nexport function beginDelete(userName, currentNoteSheet_id) {\n  return dispatch => {\n    newBody = {\n      userName: userName,\n      noteSheet_id: currentNoteSheet_id\n    };\n    options = {};\n    fetch(`${host}/noteSheet`).then(checkForErrors).then(responce => responce.json()).then(data => {\n      if (data.ok) {\n        dispatch(finishLogin(data.usersNoteSheets, userName));\n      } else {\n        alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function beginLogin(userName) {\n  return dispatch => {\n    fetch(`${host}/noteSheetList/${userName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n      if (data.ok) {\n        dispatch(finishLogin(data.usersNoteSheets, userName));\n      } else {\n        alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function finishLogin(usersNoteSheets, userName) {\n  return {\n    type: UserAction.FinishLogin,\n    payload: {\n      noteSheetList: usersNoteSheets,\n      userName: userName\n    }\n  };\n}\nexport function beginNewNoteSheet() {\n  return {\n    type: UserAction.BeginNewNoteSheet,\n    payload: 1\n  };\n}\nexport function beginNewUser(userName) {\n  const newBody = {\n    userName: userName\n  };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(newBody)\n  };\n  return dispatch => {\n    fetch(`${host}/users`, options).then(checkForErrors).then(responce => responce.json()).then(data => {\n      if (data.ok) {\n        dispatch(beginLogin(userName));\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function beginLoadSheet(userName, noteSheet) {\n  return dispatch => {\n    fetch(`${host}/noteSheetFind/${userName}/${noteSheet.noteSheetName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n      if (data.ok) {\n        dispatch(finishLoadSheet(data.requestedNoteSheet[0]));\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function finishLoadSheet(noteSheet) {\n  return {\n    type: UserAction.FinishLoadSheet,\n    payload: noteSheet\n  };\n}\nexport function logout() {\n  return {\n    type: UserAction.Logout,\n    payload: null\n  };\n}","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/UserActions.js"],"names":["React","useState","UserAction","Object","freeze","BeginLogin","FinishLogin","Logout","BeginNewUser","BeginLoadSheet","FinishLoadSheet","BeginNewNoteSheet","FinshDelete","host","checkForErrors","responce","ok","Error","status","statusText","beginDelete","userName","currentNoteSheet_id","dispatch","newBody","noteSheet_id","options","fetch","then","json","data","finishLogin","usersNoteSheets","alert","catch","e","console","error","beginLogin","type","payload","noteSheetList","beginNewNoteSheet","beginNewUser","method","headers","body","JSON","stringify","beginLoadSheet","noteSheet","noteSheetName","finishLoadSheet","requestedNoteSheet","logout"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nexport const UserAction = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  Logout: 'Logout',\n  BeginNewUser: 'BeginNewUser',\n  BeginLoadSheet:'BeginLoadSheet',\n  FinishLoadSheet:'FinishLoadSheet',\n  BeginNewNoteSheet:'BeginNewNoteSheet',\n  FinshDelete:'FinishDelete',\n})\n\nconst host = 'http://websystems.senapatiratne.com:1443';\n\nexport function checkForErrors(responce){\n  if(!responce.ok){\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n  return responce;\n}\n\nexport function beginDelete(userName,currentNoteSheet_id){\n  return dispatch => {\n      newBody = {userName:userName,noteSheet_id:currentNoteSheet_id};\n      options = {}\n      fetch(`${host}/noteSheet`,)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishLogin(data.usersNoteSheets,userName));\n          }\n          else{\n            alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n          }\n        })\n        .catch(e => console.error(e));\n  };\n}\n\nexport function beginLogin(userName){\n  return dispatch => {\n      fetch(`${host}/noteSheetList/${userName}`)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            dispatch(finishLogin(data.usersNoteSheets,userName));\n          }\n          else{\n            alert(\"Login Failed. Try Again. Click 'New User' if making you are making a new acount.\");\n          }\n        })\n        .catch(e => console.error(e));\n  };\n}\n\n\nexport function finishLogin(usersNoteSheets, userName){\n  return{\n    type: UserAction.FinishLogin,\n    payload: {noteSheetList:usersNoteSheets, userName:userName}\n  };\n}\n\nexport function beginNewNoteSheet(){\n  return{\n    type: UserAction.BeginNewNoteSheet,\n    payload:1\n  }\n}\n\nexport function beginNewUser(userName){\n  const newBody = {userName:userName};\n  const options = {method: 'POST', headers:{'Content-Type': 'application/json'}, body:JSON.stringify(newBody)};\n  return dispatch => {\n    fetch(`${host}/users`,options)\n      .then(checkForErrors)\n      .then(responce => responce.json())\n      .then(data => {\n        if(data.ok){\n          dispatch(beginLogin(userName));\n        }\n      })\n      .catch(e => console.error(e));\n  };\n}\n\nexport function beginLoadSheet(userName, noteSheet){\n  return dispatch => {\n      fetch(`${host}/noteSheetFind/${userName}/${noteSheet.noteSheetName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n          if(data.ok){\n            dispatch(finishLoadSheet(data.requestedNoteSheet[0]))\n          }\n        }).catch(e => console.error(e));\n  }\n}\n\nexport function finishLoadSheet(noteSheet){\n  return{\n    type:UserAction.FinishLoadSheet,\n    payload:noteSheet\n  }\n}\n\nexport function logout(){\n  return{\n    type:UserAction.Logout,\n    payload:null\n  }\n}\n"]},"metadata":{},"sourceType":"module"}