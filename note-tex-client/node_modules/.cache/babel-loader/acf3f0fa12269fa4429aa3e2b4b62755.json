{"ast":null,"code":"import React, { useState } from 'react';\nexport const Action = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  BeginLogout: 'BeginLogout',\n  BeginLoadDocumentList: 'BeginLoadDocumentList',\n  FinishLoadDocumentList: 'FinishLoadDocumentList',\n  BeginLoadDocument: 'BeginLoadDocument'\n});\nconst host = 'http://websystems.senapatiratne.com:1443';\n\nfunction checkForErrors(responce) {\n  if (!responce.ok) {\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n\n  return responce;\n}\n\nexport function beginLogin(userName) {\n  return dispatch => {\n    fetch(`${host}/noteSheetList/${userName}`).then(checkForErrors).then(responce => responce.json()).then(data => {\n      if (data.ok) {\n        alert(JSON.stringify(data.usersNoteSheets));\n        dispatch(finishLogin(data.usersNoteSheets, userName));\n      } else {\n        alert(\"Login Failed\");\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function finishLogin(usersNoteSheets, userName) {\n  return {\n    type: Action.FinishLogin,\n    payload: {\n      noteSheetList: usersNoteSheets,\n      userName: userName\n    }\n  };\n}","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/UserActions.js"],"names":["React","useState","Action","Object","freeze","BeginLogin","FinishLogin","BeginLogout","BeginLoadDocumentList","FinishLoadDocumentList","BeginLoadDocument","host","checkForErrors","responce","ok","Error","status","statusText","beginLogin","userName","dispatch","fetch","then","json","data","alert","JSON","stringify","usersNoteSheets","finishLogin","catch","e","console","error","type","payload","noteSheetList"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,MAAMC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc;AAClCC,EAAAA,UAAU,EAAE,YADsB;AAElCC,EAAAA,WAAW,EAAE,aAFqB;AAGlCC,EAAAA,WAAW,EAAE,aAHqB;AAIlCC,EAAAA,qBAAqB,EAAE,uBAJW;AAKlCC,EAAAA,sBAAsB,EAAC,wBALW;AAMlCC,EAAAA,iBAAiB,EAAC;AANgB,CAAd,CAAf;AASP,MAAMC,IAAI,GAAG,0CAAb;;AAEA,SAASC,cAAT,CAAwBC,QAAxB,EAAiC;AAC/B,MAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;AACd,UAAMC,KAAK,CAAE,GAAEF,QAAQ,CAACG,MAAO,IAAGH,QAAQ,CAACI,UAAW,EAA3C,CAAX;AACD;;AACD,SAAOJ,QAAP;AACD;;AAED,OAAO,SAASK,UAAT,CAAoBC,QAApB,EAA6B;AAClC,SAAOC,QAAQ,IAAI;AACfC,IAAAA,KAAK,CAAE,GAAEV,IAAK,kBAAiBQ,QAAS,EAAnC,CAAL,CACGG,IADH,CACQV,cADR,EAEGU,IAFH,CAEQT,QAAQ,IAAIA,QAAQ,CAACU,IAAT,EAFpB,EAGGD,IAHH,CAGQE,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACV,EAAR,EAAW;AACTW,QAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeH,IAAI,CAACI,eAApB,CAAD,CAAL;AACAR,QAAAA,QAAQ,CAACS,WAAW,CAACL,IAAI,CAACI,eAAN,EAAsBT,QAAtB,CAAZ,CAAR;AACD,OAHD,MAII;AACFM,QAAAA,KAAK,CAAC,cAAD,CAAL;AACD;AACF,KAXH,EAYGK,KAZH,CAYSC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAZd;AAaH,GAdD;AAeD;AAGD,OAAO,SAASF,WAAT,CAAqBD,eAArB,EAAsCT,QAAtC,EAA+C;AACpD,SAAM;AACJe,IAAAA,IAAI,EAAEhC,MAAM,CAACI,WADT;AAEJ6B,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAACR,eAAf;AAAgCT,MAAAA,QAAQ,EAACA;AAAzC;AAFL,GAAN;AAID","sourcesContent":["import React, {useState} from 'react';\nexport const Action = Object.freeze({\n  BeginLogin: 'BeginLogin',\n  FinishLogin: 'FinishLogin',\n  BeginLogout: 'BeginLogout',\n  BeginLoadDocumentList: 'BeginLoadDocumentList',\n  FinishLoadDocumentList:'FinishLoadDocumentList',\n  BeginLoadDocument:'BeginLoadDocument'\n})\n\nconst host = 'http://websystems.senapatiratne.com:1443';\n\nfunction checkForErrors(responce){\n  if(!responce.ok){\n    throw Error(`${responce.status}:${responce.statusText}`);\n  }\n  return responce;\n}\n\nexport function beginLogin(userName){\n  return dispatch => {\n      fetch(`${host}/noteSheetList/${userName}`)\n        .then(checkForErrors)\n        .then(responce => responce.json())\n        .then(data => {\n          if(data.ok){\n            alert(JSON.stringify(data.usersNoteSheets));\n            dispatch(finishLogin(data.usersNoteSheets,userName));\n          }\n          else{\n            alert(\"Login Failed\");\n          }\n        })\n        .catch(e => console.error(e));\n  };\n}\n\n\nexport function finishLogin(usersNoteSheets, userName){\n  return{\n    type: Action.FinishLogin,\n    payload: {noteSheetList:usersNoteSheets, userName:userName}\n  };\n}\n"]},"metadata":{},"sourceType":"module"}