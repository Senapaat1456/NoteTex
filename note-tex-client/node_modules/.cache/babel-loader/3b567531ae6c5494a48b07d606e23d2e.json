{"ast":null,"code":"import { Action } from './LineActions';\nconst initialState = {\n  lineCount: 0,\n  noteLines: []\n};\n\nfunction noteLinesReducer(noteLinesArray, action) {\n  switch (action.type) {\n    case Action.BeginEdit:\n      return noteLinesArray.map(line => {\n        if (line.lineNumber === action.payload) {\n          return { ...line,\n            isEditing: true\n          };\n        } else {\n          return line;\n        }\n      });\n\n    case Action.EndEdit:\n      return noteLinesArray.map(line => {\n        if (line.lineNumber === action.payload.lineNumber) {\n          return { ...line,\n            isEditing: false\n          };\n        } else {\n          return line;\n        }\n      });\n\n    case Action.LoadLine:\n      return [action.payload, ...noteLinesArray];\n\n    case Action.AddNewLine:\n      const oldList = state.noteLines.map(line => {\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n        if (line.lineNumber <= action.payload) {\n          return {\n            lineContents: line.lineContents,\n            lineNumber: line.lineNumber,\n            marked: \"under\"\n          };\n        } else {\n          return {\n            lineContents: line.lineContents,\n            lineNumber: line.lineNumber + 1,\n            marked: \"Over\"\n          };\n        }\n      });\n      const temp = {\n        lineNumber: action.payload + 1,\n        lineContents: \"\",\n        isEditing: true,\n        marked: \"new\"\n      };\n      return [...oldList, temp];\n\n    default:\n      return noteLinesArray;\n  }\n}\n\nfunction lineCountReducer(lineCountVar, action) {\n  switch (action.type) {\n    case Action.LoadLine:\n      return lineCountVar + 1;\n\n    default:\n      return lineCountVar;\n  }\n}\n\nfunction reducer(state = initialState, action) {\n  return {\n    linesCount: lineCountReducer(state.linesCount, action),\n    noteLines: noteLinesReducer(state.noteLines, action)\n  };\n}\n\nexport default reducer;","map":{"version":3,"sources":["/home/andrew/School/Spring_2020/WebSystems/NoteTex/note-tex-client/src/LineReducer.js"],"names":["Action","initialState","lineCount","noteLines","noteLinesReducer","noteLinesArray","action","type","BeginEdit","map","line","lineNumber","payload","isEditing","EndEdit","LoadLine","AddNewLine","oldList","state","lineContents","marked","temp","lineCountReducer","lineCountVar","reducer","linesCount"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,eAArB;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,CADQ;AAEnBC,EAAAA,SAAS,EAAE;AAFQ,CAArB;;AAKA,SAASC,gBAAT,CAA0BC,cAA1B,EAA0CC,MAA1C,EAAiD;AAC/C,UAAQA,MAAM,CAACC,IAAf;AAGE,SAAKP,MAAM,CAACQ,SAAZ;AACE,aAAOH,cAAc,CAACI,GAAf,CAAmBC,IAAI,IAAG;AAC/B,YAAGA,IAAI,CAACC,UAAL,KAAoBL,MAAM,CAACM,OAA9B,EAAsC;AACpC,iBAAM,EAAC,GAAGF,IAAJ;AAAUG,YAAAA,SAAS,EAAC;AAApB,WAAN;AACD,SAFD,MAGI;AACF,iBAAOH,IAAP;AACD;AACF,OAPM,CAAP;;AAUF,SAAKV,MAAM,CAACc,OAAZ;AACE,aAAOT,cAAc,CAACI,GAAf,CAAmBC,IAAI,IAAG;AAC5B,YAAGA,IAAI,CAACC,UAAL,KAAoBL,MAAM,CAACM,OAAP,CAAeD,UAAtC,EAAiD;AAC/C,iBAAM,EAAC,GAAGD,IAAJ;AAAUG,YAAAA,SAAS,EAAC;AAApB,WAAN;AACD,SAFD,MAGI;AACF,iBAAOH,IAAP;AACD;AACF,OAPG,CAAP;;AAWF,SAAKV,MAAM,CAACe,QAAZ;AACE,aAAO,CAACT,MAAM,CAACM,OAAR,EAAiB,GAAGP,cAApB,CAAP;;AAGF,SAAKL,MAAM,CAACgB,UAAZ;AACE,YAAMC,OAAO,GAAGC,KAAK,CAACf,SAAN,CAAgBM,GAAhB,CAAoBC,IAAI,IAAG;AAEzC;AAEA,YAAGA,IAAI,CAACC,UAAL,IAAmBL,MAAM,CAACM,OAA7B,EAAqC;AAEnC,iBAAO;AAACO,YAAAA,YAAY,EAACT,IAAI,CAACS,YAAnB;AAAiCR,YAAAA,UAAU,EAACD,IAAI,CAACC,UAAjD;AAA6DS,YAAAA,MAAM,EAAC;AAApE,WAAP;AAED,SAJD,MAKI;AAEF,iBAAM;AAACD,YAAAA,YAAY,EAACT,IAAI,CAACS,YAAnB;AAAiCR,YAAAA,UAAU,EAACD,IAAI,CAACC,UAAL,GAAgB,CAA5D;AAA+DS,YAAAA,MAAM,EAAC;AAAtE,WAAN;AAED;AACF,OAde,CAAhB;AAeA,YAAMC,IAAI,GAAG;AAACV,QAAAA,UAAU,EAACL,MAAM,CAACM,OAAP,GAAe,CAA3B;AAA8BO,QAAAA,YAAY,EAAC,EAA3C;AAA+CN,QAAAA,SAAS,EAAC,IAAzD;AAA+DO,QAAAA,MAAM,EAAC;AAAtE,OAAb;AACA,aAAO,CAAC,GAAGH,OAAJ,EAAaI,IAAb,CAAP;;AAEF;AACE,aAAOhB,cAAP;AAlDJ;AAqDD;;AAED,SAASiB,gBAAT,CAA0BC,YAA1B,EAAwCjB,MAAxC,EAA+C;AAC7C,UAAQA,MAAM,CAACC,IAAf;AAGE,SAAKP,MAAM,CAACe,QAAZ;AACE,aAAOQ,YAAY,GAAC,CAApB;;AAGF;AACE,aAAOA,YAAP;AARJ;AAUD;;AAED,SAASC,OAAT,CAAiBN,KAAK,GAAGjB,YAAzB,EAAuCK,MAAvC,EAA8C;AAC1C,SAAM;AACJmB,IAAAA,UAAU,EAAEH,gBAAgB,CAACJ,KAAK,CAACO,UAAP,EAAmBnB,MAAnB,CADxB;AAEJH,IAAAA,SAAS,EAAEC,gBAAgB,CAACc,KAAK,CAACf,SAAP,EAAkBG,MAAlB;AAFvB,GAAN;AAIH;;AACD,eAAekB,OAAf","sourcesContent":["import {Action} from './LineActions';\nconst initialState = {\n  lineCount: 0,\n  noteLines: [],\n}\n\nfunction noteLinesReducer(noteLinesArray, action){\n  switch (action.type) {\n\n\n    case Action.BeginEdit:\n      return noteLinesArray.map(line =>{\n        if(line.lineNumber === action.payload){\n          return{...line, isEditing:true};\n        }\n        else{\n          return line;\n        }\n      });\n\n\n    case Action.EndEdit:\n      return noteLinesArray.map(line =>{\n           if(line.lineNumber === action.payload.lineNumber){\n             return{...line, isEditing:false};\n           }\n           else{\n             return line;\n           }\n         });\n\n\n\n    case Action.LoadLine:\n      return [action.payload, ...noteLinesArray]\n\n\n    case Action.AddNewLine:\n      const oldList = state.noteLines.map(line =>{\n\n        //console.log(\"a Line: \"+ JSON.stringify(line))\n\n        if(line.lineNumber <= action.payload){\n\n          return {lineContents:line.lineContents, lineNumber:line.lineNumber, marked:\"under\"}\n\n        }\n        else{\n\n          return{lineContents:line.lineContents, lineNumber:line.lineNumber+1, marked:\"Over\"}\n\n        }\n      })\n      const temp = {lineNumber:action.payload+1, lineContents:\"\", isEditing:true, marked:\"new\"}\n      return [...oldList, temp];\n\n    default:\n      return noteLinesArray;\n\n  }\n}\n\nfunction lineCountReducer(lineCountVar, action){\n  switch (action.type) {\n\n\n    case Action.LoadLine:\n      return lineCountVar+1;\n\n\n    default:\n      return lineCountVar;\n  }\n}\n\nfunction reducer(state = initialState, action){\n    return{\n      linesCount: lineCountReducer(state.linesCount, action),\n      noteLines: noteLinesReducer(state.noteLines, action)\n    };\n}\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}